# Task Runner v1.0.2 Release Notes

**Release Date:** 9 January 2026
**Version:** 1.0.2  
**Status:** Patch Release  

## üéâ Overview

Task Runner v1.0.2 is a patch release that fixes critical bugs with default configuration values and implements proper timeout enforcement. This release ensures that documented features (`default_timeout` and `default_working_dir`) actually work as intended.

## üêõ Bug Fixes

### Version Mismatch Fix
- **Fixed**: Corrected version number in `Cargo.toml` from `0.1.0` to `1.0.2` to match the actual project version
- **Impact**: Ensures consistent versioning across all package files (Cargo.toml and package.json)
- **Files Changed**:
  - `Cargo.toml` - Updated version from `0.1.0` to `1.0.2`
  - `package.json` - Updated version from `1.0.1` to `1.0.2`

### Default Timeout Not Applied
- **Fixed**: The `default_timeout` configuration option was defined and documented but never actually used during task execution
- **Impact**: Tasks without explicit timeouts now properly inherit the `default_timeout` value from the configuration
- **Implementation**: 
  - Tasks now fall back to `config.default_timeout` when `task.timeout` is not set
  - Timeout enforcement is now fully implemented with proper process termination on timeout
  - Commands that exceed their timeout are automatically killed

### Default Working Directory Not Applied
- **Fixed**: The `default_working_dir` configuration option was defined and documented but never actually used during task execution
- **Impact**: Tasks without explicit working directories now properly inherit the `default_working_dir` value from the configuration
- **Implementation**: Tasks now fall back to `config.default_working_dir` when `task.working_dir` is not set

### Timeout Enforcement Missing
- **Fixed**: While timeout values were stored, they were never actually enforced during command execution
- **Impact**: Commands with timeouts now properly terminate after the specified duration
- **Implementation**: 
  - Added proper timeout handling using async polling with `try_wait()`
  - Processes that exceed their timeout are automatically killed
  - Clear error messages indicate when a command times out

## ‚ú® Enhancements

### Improved Task Information Display
- **Enhanced**: The `task-runner info` and `task-runner list --details` commands now show when default values are being used
- **Impact**: Users can now see if a task is using `default_timeout` or `default_working_dir` from the configuration
- **Example**: Timeout and working directory display now indicate "(from default)" when using config defaults

## üì¶ What's Included

This release includes:
- Version synchronization across all package configuration files
- Full implementation of `default_timeout` configuration option
- Full implementation of `default_working_dir` configuration option
- Proper timeout enforcement with process termination
- Enhanced task information display showing default value usage
- All features and functionality from v1.0.1 remain unchanged

## üöÄ Installation

### From NPM
```bash
npm install -g task-runner@1.0.2
```

### From Source
```bash
git clone https://github.com/Zemerik/task-runner.git
cd task-runner
git checkout v1.0.2
cargo build --release
cargo install --path .
```

## üîÑ Upgrading from v1.0.1

No code changes required. Simply update to the new version:

```bash
npm install -g task-runner@1.0.2
```

Or rebuild from source if installing manually.

## üìã Compatibility

- **Backward Compatible**: Yes - fully compatible with v1.0.1
- **Configuration Files**: No changes required - existing configs will now work as documented
- **API**: No breaking changes
- **Behavior Changes**: 
  - Tasks will now respect `default_timeout` and `default_working_dir` from configuration
  - Commands with timeouts will now actually be terminated if they exceed the timeout

## üß™ Testing

All existing tests pass. The fixes ensure that documented features now work as expected:
- Default timeout values are properly applied
- Default working directory values are properly applied
- Timeout enforcement works correctly
- Task information display shows default value usage

## üí° Example Usage

### Using Default Timeout

```json
{
  "default_timeout": 300,
  "tasks": {
    "build": {
      "commands": ["npm run build"]
      // Will use default_timeout of 300 seconds
    },
    "test": {
      "commands": ["npm test"],
      "timeout": 60
      // Will use explicit timeout of 60 seconds
    }
  }
}
```

### Using Default Working Directory

```json
{
  "default_working_dir": "./src",
  "tasks": {
    "compile": {
      "commands": ["tsc"]
      // Will run in ./src directory
    },
    "build": {
      "commands": ["npm run build"],
      "working_dir": "./dist"
      // Will run in ./dist directory (overrides default)
    }
  }
}
```

## üìÑ License

MIT License - see [LICENSE](LICENSE) file for details.

## üôè Acknowledgments

Thank you to the community for reporting version inconsistencies and helping maintain project quality.

## üìû Support

- **Documentation**: [README.md](README.md)
- **Issues**: [GitHub Issues](https://github.com/Zemerik/task-runner/issues)
- **Discussions**: [GitHub Discussions](https://github.com/Zemerik/task-runner/discussions)
- **Repository**: [https://github.com/Zemerik/task-runner](https://github.com/Zemerik/task-runner)

---

**Task Runner CLI v1.0.2** - Version consistency fix for better package management.
